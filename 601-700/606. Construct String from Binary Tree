class Solution {
    public static String tree2str(TreeNode t) {
        StringBuilder builder = new StringBuilder();
        DFS(builder, t);
        return builder.toString();
    }

    public static void DFS(StringBuilder builder, TreeNode t){
        if (t == null){
            return;
        }
        builder.append(t.val);
        if (t.left != null || t.right != null){
            builder.append("(");
            DFS(builder, t.left);
            builder.append(")");
        }
        if (t.right != null){
            builder.append("(");
            DFS(builder, t.right);
            builder.append(")");
        }
    }
}